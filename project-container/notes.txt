
http://127.0.0.1:8000/api/analytics/?date_from=2020-04-23&date_to=2020-04-26

------------------------ Console HTTPie commands:

With JWT:
http POST "http://127.0.0.1:8000/api/auth/token/" password='1234', username='admin'
http POST "http://127.0.0.1:8000/api/auth/token/" password='parol1234', username='user'
http POST "http://127.0.0.1:8000/api/auth/token/refresh/" token='eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6ImFkbWluIiwiZXhwIjoxNTg4MjQ1MjczLCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg4MDcyNDczfQ.nmhnSqR4xnu45KKUOdDe48SubhkHi9dCt24_XL7u0Q8'


http GET http://127.0.0.1:8000/api/users/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'
http GET http://127.0.0.1:8000/api/users/1/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'

http GET http://127.0.0.1:8000/api/analytics/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'
http GET http://127.0.0.1:8000/api/analytics/?date_from=2020-04-23"&"date_to=2020-04-26 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'


http POST http://127.0.0.1:8000/api/posts/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g' content='jwt test1', publish='2020-4-27'


http DELETE http://127.0.0.1:8000/api/posts/1/likes/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'
http POST http://127.0.0.1:8000/api/posts/1/likes/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'
http DELETE http://127.0.0.1:8000/api/posts/1/likes/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'
http GET http://127.0.0.1:8000/api/posts/1/likes/ 'Authorization:JWT  eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMSwidXNlcm5hbWUiOiJ1c2VyIiwiZXhwIjoxNTg4MTQ5NTM3LCJlbWFpbCI6IiIsIm9yaWdfaWF0IjoxNTg3OTc2NzM3fQ.pZJ1TU07BFTxS4xSCRS0XKri6EnFom0agP2h19qZ--g'



 ------------------------- Python Shell commands to interact with API: -------------------------
 py manage.py shell

from posts.models import Post
from posts.serializers import PostSerializer
obj = Post.objects.all().first()
print(obj)


obj_data = PostSerializer(obj)
print(obj_data.data)


// Post creating
data = {
    'user': 2,
    'content': "new content",
    'publish': "2020-4-19",
}

new_item = PostSerializer(data=data)
if new_item.is_valid():
    new_item.save()
else:
    print(new_item.errors)

 // Post creating
 http http://127.0.0.1:8000/api/posts/create/ user=2, content='shell test', publish='2020-4-19'




from django.contrib.auth.models import User
from accounts.api.serializers import UserListCreateSerializer
obj = User.objects.all().first()
print(obj)



 ------------------------- cURL commands: -------------------------

Authentication:
curl -X POST -d "username=admin&password=1234" http://127.0.0.1:8000/api/v1/auth/token/

Using of the returned access token to prove authentication for a protected view:
curl -H "Authorization: JWT  *access token*" http://127.0.0.1:8000/api/v1/users/

Token refreshing:
curl -X POST -d "refresh=*refresh token*" http://127.0.0.1:8000/api/v1/auth/token/refresh/

